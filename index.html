<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <meta name="generator" content="">
    <title>Gallery</title>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/navbar-fixed/">

    <!-- Bootstrap core CSS -->
    <link href="assets/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/dist/css/simple-lightbox.css?v2.11.0" rel="stylesheet">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }

      .container .gallery a img {
            float: left;
            width: 100%;
            height: auto;
            border: 2px solid #fff;
            -webkit-transition: -webkit-transform .15s ease;
            -moz-transition: -moz-transform .15s ease;
            -o-transition: -o-transform .15s ease;
            -ms-transition: -ms-transform .15s ease;
            transition: transform .15s ease;
            position: relative;
        }

        .clear {
            clear: both;
        }

        a {
            color: #009688;
            text-decoration: none;
        }

        a:hover {
            color: #01695f;
            text-decoration: none;
        }

        .btn-outline-success {
            color: #8b8b8b;
            border-color: #8b8b8b;
        }
        .btn-outline-success:hover {
            color: #fff;
            background-color:#202B37;
            border-color: #8b8b8b;
        }
        .btn-outline-success:active {
            color: #fff;
            background-color: #FFF;
            border-color: #8b8b8b;
        }
        .btn-outline-success.dropdown-toggle.show{
            color: #000;
            background-color: #FFF;
            border-color: #8b8b8b;
        }
    </style>

    
    <!-- Custom styles for this template -->
    <link href="assets/dist/css/navbar-top-fixed.css" rel="stylesheet">
  </head>
  <body>
    
<nav class="navbar navbar-expand-md navbar-dark fixed-top top-nav">
  <div class="container-fluid">
    <a class="navbar-brand" href="#"><img src="public_html/images/logo.png"/></a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarCollapse">
      <ul class="navbar-nav me-auto mb-2 mb-md-0">
      </ul>
        <div class="dropdown">
          <a class="btn btn-outline-success dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">
            Dropdown Menu
          </a>
        
          <ul class="dropdown-menu dropdown-menu-dark" aria-labelledby="dropdownMenuLink">
            <li><a class="dropdown-item" href="#">Lobby</a></li>
            <li><a class="dropdown-item" href="#">About</a></li>
          </ul>
        </div>
    </div>
  </div>
</nav>

<main class="container">
  <div class="pt-5 rounded">
    <div class="gallery">
        <div class="row">

          <?php 
            $path ='public_html\downscale';
            $files = getDirContents($path);
            shuffle($files);
            foreach($files as $file){?>
              <div class="col-lg-3 col-md-4 col-sm-12 mb-2">
                <a href="public_html/upscale/<?=$file?>" class="big">
                  <img src="public_html/downscale/<?=$file?>" class="img img-responsive" alt="" title="<center><a href='public_html/downscale/<?=$file?>' download class='btn btn-sm btn-warning'>Download</a></center>" />
                </a>
              </div>
            <?php  } 
            ?>  
        </div>
        <div class="clear"></div>
    </div>
  </div>
</main>

<?php 

function getDirContents($path) {
  $rii = new RecursiveIteratorIterator(new RecursiveDirectoryIterator($path));
  $files = array(); 
  foreach ($rii as $file)
      if (!$file->isDir())
          $files[] = $file->getFilename();
  return $files;
}

?>
  <script src="assets/dist/js/jquery-3.6.3.min.js"></script>
  <script src="assets/dist/js/bootstrap.bundle.min.js"></script>
  <script src="assets/dist/js/simple-lightbox.js?v2.11.0"></script>
  <script>
    (function() {
        var $gallery = new SimpleLightbox('.gallery a', {
            spinner:true,
            preloading:true,
        });
    })();
  </script>
  </body>
</html>
